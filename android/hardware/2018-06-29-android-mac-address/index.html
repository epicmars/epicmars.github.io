<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<title>
  
     获取Android手机MAC地址 | 
    风格与布局
  
</title><meta name="description" content="Android移动应用开发"><meta name="author" content="jastrelax">

<link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="/favicon-32x32.png " sizes="32x32" type="image/png">
<link rel="icon" href="/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#0c344b">
<link rel="icon" href="/favicon.ico">




    
        
            <link rel="stylesheet" href="/dist/main.37ab3f61b95417873748.min.css">
        
    




<link rel="canonical" href="https://www.androidpi.com/android/hardware/2018-06-29-android-mac-address/"><meta property="og:title" content="获取Android手机MAC地址" />
<meta property="og:description" content="什么是MAC地址 MAC地址，全称为Media Access Control Address，即介质访问控制地址。它是分配给网络接口控制器（Network Interface Control" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.androidpi.com/android/hardware/2018-06-29-android-mac-address/" />
<meta property="article:published_time" content="2018-06-29T22:35:05+08:00" />
<meta property="article:modified_time" content="2018-06-29T22:35:05+08:00" />
<meta itemprop="name" content="获取Android手机MAC地址">
<meta itemprop="description" content="什么是MAC地址 MAC地址，全称为Media Access Control Address，即介质访问控制地址。它是分配给网络接口控制器（Network Interface Control">
<meta itemprop="datePublished" content="2018-06-29T22:35:05&#43;08:00" />
<meta itemprop="dateModified" content="2018-06-29T22:35:05&#43;08:00" />
<meta itemprop="wordCount" content="1154">



<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="获取Android手机MAC地址"/>
<meta name="twitter:description" content="什么是MAC地址 MAC地址，全称为Media Access Control Address，即介质访问控制地址。它是分配给网络接口控制器（Network Interface Control"/>

</head>
<body>
    
<nav class="navbar navbar-expand-md navbar-light bg-light fixed-top shadow-sm" id="navbar-main-menu">
    <div class="container">
        <a class="navbar-brand font-weight-bold" href="https://www.androidpi.com/">风格与布局</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-menu" aria-controls="main-menu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="main-menu">
            <ul class="navbar-nav ml-auto">
                
                    <li class="nav-item"><a class="nav-link" href="/android/">Android</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/blockchain/">Blockchain</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/book/">Books</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/cs/">CS</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/ee/">EE</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/java/">Java</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/puzzles/">Puzzles</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/web/">Web</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/backend/">后端</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/engineering/">工程与架构</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/dev/">开发</a></li>
                
            
            </ul>
        </div>
    </div>
</nav>


    
<main class="content-page container pt-7 pb-5">
    <div class="row">
        <div class="col">
            <article>
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <h2 class="mb-3">获取Android手机MAC地址</h2>

                        <div class="content">
                            <h2 id="什么是mac地址">什么是MAC地址</h2>
<p>MAC地址，全称为Media Access Control Address，即介质访问控制地址。它是分配给网络接口控制器（Network Interface Controller）设备的一个唯一标识符。所谓网络接口控制器，即我们常说的网卡或网络适配器，在OSI(Open Systems Interconnection)7层模型中，它所对应的介质访问控制子层(media access control sublayer)位于第2层的数据链路层（Data link layer）。对数据链路层再次进行划分，MAC位于其底层，它和上一层的逻辑链路控制子层(logical link control sublayer)共同组成整个数据链路层。在数据链路层内部，LLC为逻辑链路提供流控制和多路复用，而MAC则为传输介质提供流控制和多路复用。</p>
<p>在OSI模型中，MAC所在数据链路层的上一层为IP地址所在的网络层，两者的一个不同之处在于MAC地址应用于一个物理或者虚拟的结点，而IP地址应用于结点的软件实现，MAC地址在每个结点上通常是固定不变的，而IP地址在结点从一个网络移动到另一个网络时会发生改变。IP网络使用ARP(Address Resolution Protocol)协议将IP地址映射到MAC地址，DHCP在给结点分配IP地址时通常也会使用到MAC地址。</p>
<h2 id="mac地址的结构与分配">MAC地址的结构与分配</h2>
<p>MAC地址是一个12位16进制数字，长度为6个字节或者48比特，其结构如下图所示：</p>
<p><img src="/assets/images/android/hardware/mac-addr.png" alt="oui"></p>
<p>前3个字节由网络适配器厂商在IEEE注册，后3个字节由厂商在制造时分配给设备。</p>
<p>如下图所示，可以查询不同网络设备厂商在<a href="https://regauth.standards.ieee.org/standards-ra-web/pub/view.html#registries">IEEE</a>注册的MAC地址OUI（Organizationally unique identifier，组织唯一标识符）：</p>
<p><img src="/assets/images/android/hardware/mac-oui.png" alt="oui"></p>
<h2 id="androdi中获取mac地址">Androdi中获取MAC地址</h2>
<h3 id="获取方式">获取方式</h3>
<ol>
<li>
<p>在手机连接到Wi-Fi热点，使用WifiManager获取</p>
</li>
<li>
<p>通过扫描手机的网络接口获取</p>
<p>扫描手机网络接口，并找到名为<code>wlan</code>的网络接口，然后调用<a href="https://developer.android.com/reference/java/net/NetworkInterface.html#getHardwareAddress()"><code>NetworkInterface.getHardwareAddress()</code></a>方法。</p>
</li>
<li>
<p>在手机有网络的情况下，通过扫描手机的IP地址获取</p>
<p>扫描所有网络接口以及与网络接口绑定的IP地址的全部或其子集，如果扫描到的IP地址不是回环地址（loopback address），并且不包含冒号&rdquo;:&quot;，那么可以认为获取到设备的IP地址，然后获取该IP地址对应的网络接口，然后使用于与2中相同的方法取得MAC地址。</p>
</li>
<li>
<p>通过命令行工具从系统文件读取</p>
<p>cat /sys/class/net/wlan0/address</p>
</li>
<li>
<p>通过命令行工具iproute2获取</p>
<p>ip addr show wlan0</p>
</li>
</ol>
<h3 id="版本适配">版本适配</h3>
<p>从 Android M(6.0)开始，无法再通过第三方API获得本地设备 MAC 地址（例如，WLAN 和蓝牙）。<code>WifiInfo.getMacAddress()</code>方法和<code>BluetoothAdapter.getDefaultAdapter().getAddress()</code>方法都会返回 02:00:00:00:00:00。</p>

                        </div>
                    </div>
                </div>
            </article>
        </div>
    </div>
</main>


    <footer class="footer text-center bg-dark py-6">
    <div class="container">
        <div class="row">
            <div class="col">
                <ul class="list-inline">
                    
                </ul>

                <p class="text-muted">
                    
                        Copyright &copy; 风格与布局 2020
                    
                </p>

                <p class="text-muted">
                Powered by <a href="https://gohugo.io" target="_blank">Hugo</a> with <a href="https://github.com/puresyntax71/hugo-theme-chunky-poster" target="_blank">Chunky Poster</a>.
                </p>

                <p class="text-muted">
                    <a href="http://beian.miit.gov.cn" target="_blank">蜀ICP备18005659号-1</a>
                </p>
            
            </div>
        </div>
    </div>
</footer>

    
    
        
            <script src="/dist/main.d608eadfe5ac0688902e.min.js"></script>
        
    








    
</body>
</html>
